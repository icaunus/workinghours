<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.1/knockout-latest.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  </head>
  <body>
    <div class="app">
      <div id="startrange">
        <input id="startHours" class="range" type="number" min="0" max="23" data-bind="value: startHours" />
        :
        <input id="startMinutes" class="range" type="number" min="0" max="59" data-bind="value: startMinutes" />
      </div>
      <div id="endrange">
        <input id="endHours" class="range" type="number"  min="0" max="23" data-bind="value: endHours" />
        :
        <input id="endMinutes" class="range" type="number"  min="0" max="59" data-bind="value: endMinutes" />
      </div>      
      <div class="">
    <table>
      <!-- -->
      <thead>
        <tr>
          <th class="hoursHeader"></th>
          <th>00:00</th>
          <th>01:00</th>
          <th>02:00</th>
          <th>03:00</th>
          <th>04:00</th>
          <th>05:00</th>
          <th>06:00</th>   
          <th>07:00</th>
          <th>08:00</th>        
          <th>09:00</th>
          <th>10:00</th>
          <th>11:00</th>
          <th>12:00</th>
          <th>13:00</th>
          <th>14:00</th>
          <th>15:00</th>   
          <th>16:00</th>
          <th>17:00</th>
          <th>18:00</th>
          <th>19:00</th>
          <th>20:00</th>
          <th>21:00</th>
          <th>22:00</th>
          <th>23:00</th>        
        </tr>
      </thead>
    </table>
    <!-- -->
    <table>
      <tbody>
        <tr>
          <td>
            <span id="mon" class="weekdayName" style="padding-right: 2px" data-bind="click: selectHours">Monday</span>
            <img id="r0c0" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c1" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c2" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c3" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c4" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c5" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c6" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c7" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c8" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c9" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c10" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c11" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c12" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c13" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c14" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c15" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c16" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c17" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c18"  src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c19" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c20" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c21" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c22" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r0c23" src="./png/gray.png" data-bind="click: onCellClicked" />
          </td>
        </tr>
        <tr>
          <td>
            <span id="tue" class="weekdayName" style="padding-right: 41px" data-bind="click: selectHours">Tuesday</span>
            <img id="r1c0" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c1" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c2" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c3" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c4" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c5" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c6" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c7" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c8" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c9" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c10" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c11" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c12" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c13" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c14" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c15" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c16" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c17" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c18"  src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c19" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c20" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c21" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c22" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r1c23" src="./png/gray.png" data-bind="click: onCellClicked" />
          </td>
        </tr>
        <tr>
          <td>
            <span id="wed" class="weekdayName" style="padding-right: 60px" data-bind="click: selectHours">Wednesday</span>
            <img id="r2c0" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c1" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c2" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c3" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c4" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c5" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c6" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c7" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c8" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c9" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c10" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c11" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c12" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c13" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c14" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c15" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c16" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c17" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c18"  src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c19" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c20" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c21" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c22" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r2c23" src="./png/gray.png" data-bind="click: onCellClicked" />
          </td>
        </tr>
        <tr>
          <td>
            <span id="thu" class="weekdayName" style="padding-right: 46px" data-bind="click: selectHours">Thursday</span>
            <img id="r3c0" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c1" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c2" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c3" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c4" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c5" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c6" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c7" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c8" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c9" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c10" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c11" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c12" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c13" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c14" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c15" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c16" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c17" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c18"  src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c19" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c20" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c21" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c22" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r3c23" src="./png/gray.png" data-bind="click: onCellClicked" />
          </td>
        </tr>
        <tr>
          <td>
            <span id="fri" class="weekdayName" style="padding-right: 40px" data-bind="click: selectHours">Friday</span>
            <img id="r4c0" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c1" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c2" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c3" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c4" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c5" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c6" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c7" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c8" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c9" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c10" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c11" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c12" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c13" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c14" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c15" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c16" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c17" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c18"  src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c19" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c20" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c21" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c22" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r4c23" src="./png/gray.png" data-bind="click: onCellClicked" />
          </td>
        </tr>
        <tr>
          <td>
            <span id="sat" class="weekdayName" style="padding-right: 45px" data-bind="click: selectHours">Saturday</span>
            <img id="r5c0" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c1" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c2" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c3" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c4" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c5" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c6" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c7" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c8" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c9" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c10" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c11" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c12" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c13" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c14" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c15" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c16" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c17" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c18"  src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c19" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c20" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c21" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c22" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r5c23" src="./png/gray.png" data-bind="click: onCellClicked" />
          </td>
        </tr>   
        <tr>
          <td>
            <span id="sun" class="weekdayName" style="padding-right: 9px" data-bind="click: selectHours">Sunday</span>
            <img id="r6c0" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c1" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c2" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c3" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c4" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c5" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c6" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c7" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c8" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c9" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c10" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c11" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c12" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c13" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c14" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c15" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c16" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c17" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c18"  src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c19" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c20" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c21" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c22" src="./png/gray.png" data-bind="click: onCellClicked" />
            <img id="r6c23" src="./png/gray.png" data-bind="click: onCellClicked" />
          </td>
        </tr>                     
      </tbody>
    </table>
    </div>
  </div>
    <!-- --> <span class="controls"> <!-- -->
      <button id="autofill" class="btnControls" data-bind="click: fillHours">Заполнить автоматически</button>
      <button id="reset" class="btnControls" data-bind="click: resetHours">Очистить</button>
    <!-- --> </span> <!-- -->
    <style>
      button:hover {background-color: #3e8e41}

button:active {
  background-color: #31a335;
  color: #abbccc;
  box-shadow: 0 5px #788999;
  transform: translateY(4px);
}

      img {
        height: 22px;
        padding: 0.01px;
        width: 48px;
      }

      input {
        width: 30px;
      }

      th {
        width: 2px;
      }

      .btnControls {
        border-radius: 10px;
        width: auto;
      }

      .controls {
        float: right;
      }

      .hour {
        background-color: #d3d3d3;
        color: #d3d3d3;
      }

      .hourClicked {
        background-color: #0000ff;
        color: #0000ff;       
      }

      .header {
        background-color: #ffffff;
        color: #000000;
        border-left: 0px;
        min-height: 50px;
        min-width: 50px;
      }

     .hoursHeader {
       width: 9%;
     }

      #reset {
        margin-right: 525px;
      }

      #startHours, #endHours {
        margin-left: 35%;
      }
    </style>
    <script>
      var ViewModel = function() {
        var self = this;

        this.startHours = ko.observable("0");
        this.startMinutes = ko.observable("31");
        this.endHours = ko.observable("23");
        this.endMinutes = ko.observable("22");        
        
        this.fillHours = function() {
          $("img").attr("src", "png/blue.png");
        };

        this.resetHours = function() {
          $("img").attr("src", "png/gray.png");
        };

        this.onCellClicked = function(d, e) {
          var cell = $("#" + e.target.id);

          if (cell.attr("src") !== "./png/gray.png") {
            cell.attr("src", "./png/gray.png"); 
          }
          else if (cell.attr("src") !== "./png/blue.png") {
            cell.attr("src", "./png/blue.png"); 
          }
        };

        this.selectHours = function(d, e) {
          var weekDayId = e.target.id;
          var weekDay = $("#" + weekDayId);          
          var cells = weekDay.siblings("img");
          
          $(cells).each(function() {
            var sid = $(this).attr("id");
            var sh = sid.substr(sid.indexOf("c") + 1, sid.length);
            var siblingHour = Number(sh);
            var startHours2i = Number(self.startHours());
            var startMinutes2i = Number(self.startMinutes());
            var endHours2i = Number(self.endHours());
            var endMinutes2i = Number(self.endMinutes());

            $(this).attr("src", "./png/gray.png");

            if (sh >= startHours2i && sh <= endHours2i) {
              if (siblingHour === startHours2i && startMinutes2i >= 30) {
                $(this).attr("src", "./png/grayblue.png");
              }
              else if (siblingHour === startHours2i && startMinutes2i < 30) {
                $(this).attr("src", "./png/blue.png");
              }
              else if (siblingHour === endHours2i && endMinutes2i < 30) {
                $(this).attr("src", "./png/bluegray.png");
              }
              else if (siblingHour === endHours2i && endMinutes2i >= 30) {
                $(this).attr("src", "./png/blue.png");
              }
              else {
                $(this).attr("src", "./png/blue.png");
              }
            }
          });
        };
      };

      ko.applyBindings(new ViewModel());
    </script>
  </body>
</html>
